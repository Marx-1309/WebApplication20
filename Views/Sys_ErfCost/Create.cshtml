@model WebApplication20.Models.Sys_ErfCost

@{
    ViewBag.Title = "Create";
}


@*@using (Html.BeginForm("Create", "Sys_ErfCost", new { @id = "formSubmit" }))
{*@
    @*@Html.AntiForgeryToken()*@

    <div class="form-horizontal">
        <div class="row">
            <div class="col-xl-6">
                <!-- ====================================
                        ——— 1st FORM
                ===================================== -->

                <div class="card card-default">
                    <div class="card-header">
                        <h2 style="color: rebeccapurple;font-weight: bold">ERF COST</h2>

                    </div>
                    <div class="card-body">
                        <div class="collapse" id="collapse-from-validation">
                            <pre class="language-html mb-4">
                             </pre>
                        </div>

                        <div>
                            <div class="form-row">
                                <div class="col-xl-6">
                                    <div class="mb-5">
                                        <label class="text-dark font-weight-medium">PLOT TYPE</label>
                                        <div class="input-group mb-3">
                                            @Html.DropDownList("PlotTypeID", null, "--Select Plot Type--", htmlAttributes: new { @class = "form-control rounded-pill", @required = "required" })
                                            @Html.ValidationMessageFor(model => model.PlotTypeID, "", new { @class = "text-danger" })
                                        </div>
                                    </div>
                                </div>

                                <div class="col-xl-6">
                                    <div class="mb-5">

                                        <label class="text-dark font-weight-medium">COST PER SQUARE METER(N$/㎡)</label>
                                        @Html.EditorFor(model => model.CostPerSqm, new { htmlAttributes = new { @class = "form-control rounded-pill", @placeholder = "enter cost per square meter", @required = "required" } })
                                        @Html.ValidationMessageFor(model => model.CostPerSqm, "", new { @class = "text-danger" })
                                        <div class="input-group mb-3">

                                        </div>

                                    </div>
                                </div>

                                <div class="col-md-12 mb-">
                                </div>


                                <div class="col-xl-6">
                                    <div class="mb-5">

                                        <label class="text-dark font-weight-medium">ADMIN FEES</label>

                                        <div class="input-group mb-3">
                                            @Html.EditorFor(model => model.AdminFees, new { htmlAttributes = new { @class = "form-control rounded-pill", @placeholder = "enter admin fees", @required = "required" } })
                                            @Html.ValidationMessageFor(model => model.AdminFees, "", new { @class = "text-danger" })
                                        </div>

                                    </div>
                                </div>

                                <div class="col-md-12 mb-">
                                </div>

                                <div class="col-md-12 mb-">
                                </div>

                                <div class="col-md-12 mb-">
                                </div>

                            </div>
                            <br />


                        </div>

                    </div>
                </div>




            </div>

        </div>
      
        <button id="btnSave" type="submit" class="btn btn-success">Create</button>

     
    </div>
    <div style="text-align:center;display:none" id="loaderDiv">
        <img src="~/Content/InternetSlowdown_Day.gif" width="150" />
    </div>
@*}*@


<br />

<div>
    @Html.ActionLink("Back to List", "Index")
</div>

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="sweetalert2.min.js"></script>
<link rel="stylesheet" href="sweetalert2.min.css">
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
@*Onclick js and css ref link*@

<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


<script>
    


        $('#btnSave').on('click', function () {

            //  if (!$("#frmApp_Applicant").valid()) return;
            $("#loaderDiv").show();

            var sys_ErfCost = {
               /* ErfCostID,PlotTypeID,CostPerSqm,AdminFees*/
                'PlotTypeID': $('#PlotTypeID option:selected').val(),
                'CostPerSqm': $("#CostPerSqm").val(),
                'AdminFees': $("#AdminFees").val(),

            };



            var model = {
                "sys_ErfCost": sys_ErfCost,

            };

            debugger;
            $.ajax({
                type: 'POST',
                url: '/Sys_ErfCost/Create/',
                contentType: "application/json; charset=utf-8",
                //contentType: "application/json",
                data: JSON.stringify(model),
                dataType: "JSON",
                cache: false,
                success: function (response) {
                    if (response.status == true) {
                        $("#loaderDiv").hide();
                        swalWithBootstrapButtons.fire(
                            'Created!',
                            'Your record has been Inserted.',
                            'success'
                        )
                        setTimeout(() => {
                            document.location.href = 'https://localhost:44384/Sys_ErfCost/Index';
                        }, 3000);
                    }
                    else {
                        swalWithBootstrapButtons.fire(
                            'Try Again!',
                            'Your record was not Updated. Please verify your inputs',
                            'error'
                        )
                        $("#loaderDiv").hide();
                    }
                }
            });
        });


        const swalWithBootstrapButtons = Swal.mixin({
            customClass: {
                confirmButton: 'btn btn-success',
                cancelButton: 'btn btn-danger'
            },
            buttonsStyling: false
        })

</script>
